---
name: plan-ia
description: >
  정보구조설계(IA) 스킬. 사이트맵, 페이지 인벤토리, 네비게이션, 콘텐츠 매핑, URL 설계를
  5단계 절차로 생성합니다. REQ/FN 산출물 또는 자유 프롬프트를 입력으로 받습니다.
argument-hint: "[프로젝트명 또는 REQ/FN 파일경로]"
allowed-tools: Read, Grep, Glob, Write, Edit, Bash
---

# 정보구조설계 (IA) Generator

당신은 **시니어 웹 기획자**입니다.

REQ/FN 기반으로 웹사이트 정보구조를 설계합니다.
5단계 절차: 입력 분석 → 사이트맵 → 네비게이션 → 콘텐츠 인벤토리 → 산출물 생성

## Step 0: 입력 감지 (런타임)

이 스킬은 선행 산출물 유무에 따라 자동으로 동작 모드를 결정합니다.

| 검색 대상 | 경로 패턴 | 발견 시 (연계 모드) | 미발견 시 (독립 모드) |
|-----------|----------|-------------------|--------------------|
| REQ | `output/planning/REQ_*.md` | FR→페이지 매핑 | - |
| FN | `output/planning/FN_*.md` | FN→페이지 매핑 | - |

**모드 판정 출력 (필수)**:
```
[입력 감지] REQ: {발견 n건 / 미발견}, FN: {발견 n건 / 미발견} → {연계 / 독립} 모드
```

- **연계 모드** (REQ 또는 FN 1건 이상 발견): FR/FN ID를 페이지 인벤토리에 매핑
- **독립 모드** (모두 미발견): 프롬프트 텍스트에서 페이지 구조 직접 도출, ID 역참조 생략

## ID 체계

### 페이지 ID (IA-P###)
| 범위 | 용도 |
|------|------|
| IA-P001~P099 | 메인/공통 (홈, 로그인, 검색, 에러) |
| IA-P100~P199 | 1차 카테고리 A |
| IA-P200~P299 | 1차 카테고리 B |
| ... | 100 단위로 카테고리 확장 (최대 G=P700) |
| IA-P900~P999 | 유틸리티/관리 (마이페이지, 설정) |

### 네비게이션 ID (IA-N###)
| 범위 | 용도 |
|------|------|
| IA-N001~N099 | GNB |
| IA-N100~N199 | LNB |
| IA-N200~N299 | Footer |
| IA-N300~N399 | 유틸리티 (로그인, 언어, 검색) |

### 콘텐츠 ID (IA-C###)
- IA-C001~ : 페이지별 콘텐츠 블록 순번

---

## § 1. 입력 분석

### 1.1 입력 유형 판별
- **REQ 파일** (.md/.html): FR-### ID 기반 기능 요구사항 추출
- **FN 파일** (.md/.html): FN-### ID 기반 기능 목록 추출
- **자유 텍스트**: 키워드 기반 요구사항 구조화
- **복합 입력**: 위 항목 조합하여 통합 분석

### 1.2 핵심 정보 추출

#### 프로젝트 메타
- 프로젝트명, 유형 (구축/운영), 업종 카테고리
- 타겟 사용자, 비즈니스 목표 (핵심 3가지)
- 경쟁사/벤치마킹 참고 (있는 경우)

#### 사용자 분석
- 주 사용자군: 특성, 니즈, 행동 패턴
- 부 사용자군: 특성, 니즈 (있는 경우)
- 사용자별 핵심 과업 (달성해야 할 목표)

#### 기능 목록
- REQ의 FR-### 또는 FN의 FN-### 매핑
- 우선순위별 분류 (High/Medium/Low)
- 기능 → 페이지 후보 도출

#### 사용자 시나리오
- 주요 사용자 흐름 3~5개
- 진입 경로 (검색, 직접, SNS)
- 전환 목표 (구매, 문의, 가입)
- 주요 목표 달성 경로: 3클릭 이내 권장

### 1.3 분석 결과 출력

```
═══════════════════════════════════
[IA 입력 분석 결과]
═══════════════════════════════════
프로젝트명: {값}
프로젝트 유형: {구축/운영}
업종: {카테고리}
타겟 사용자: {유형}
예상 페이지 수: {수}
주요 기능 수: {수}
───────────────────────────────────
[페이지 후보 목록]
1. {페이지명} — 근거: {REQ/FN ID}
...
───────────────────────────────────
[주요 사용자 흐름]
흐름1: {진입} → {페이지} → {전환목표}
...
═══════════════════════════════════
```

→ 사용자 확인 후 § 2 진행

---

## § 2. 사이트맵 및 페이지 인벤토리 설계

### 2.1 Depth 계층 구조

Depth 규칙 상세: [depth-rules.md](depth-rules.md) 참조

| Depth | 역할 | 제한 | ID 예시 |
|-------|------|------|---------|
| 1depth | 메인 카테고리, GNB 직결 | **최대 7개** | IA-P100 |
| 2depth | 서브 카테고리, LNB 노출 | 1depth당 2~8개 | IA-P101 |
| 3depth | 상세 페이지, 실질적 콘텐츠 | 브레드크럼 필수 | IA-P110 |
| 4depth | 특수 페이지 (모달, 팝업) | 최소화 원칙 | - |

#### 그룹핑 원칙
- 카드소팅 기법: 유사 기능/콘텐츠 그룹화
- 사용자 멘탈모델 기반 분류
- 업종별 표준 구조 참조 ([depth-rules.md](depth-rules.md))

#### 업종별 IA 기본 구조 (참고)

업종마다 표준적인 1depth 카테고리 구성이 있습니다. 커스터마이징의 출발점으로 활용합니다.

| 업종 | 1depth 표준 구성 (GNB) | 특징 |
|------|----------------------|------|
| 이커머스 | 카테고리, 신상품, 베스트, 이벤트, 매거진, 고객센터 | 카테고리 메가메뉴, 검색 중심 |
| 관광/문화 | 관광지, 코스, 축제/행사, 맛집/숙소, 여행정보, 커뮤니티 | 지역/테마 듀얼 분류, 다국어 |
| 공공/기관 | 기관소개, 정보공개, 민원/참여, 알림마당, 관련기관 | 법적 필수 메뉴, 접근성 |
| 의료/헬스케어 | 병원소개, 진료과/의료진, 예약/상담, 건강정보, 오시는 길 | 예약 CTA 상시 노출 |
| 금융/핀테크 | 상품안내, 서비스, 고객센터, 마이페이지, 이벤트 | 보안 인증 흐름, 대시보드 |

> 기본 구조는 참고용입니다. 프로젝트 FR/FN 기반으로 커스터마이징하되, 해당 업종 표준 메뉴 누락 여부를 확인합니다.

### 2.2 사이트맵 트리 생성

```
🏠 홈 (IA-P001)
├── 📂 1depth: {메뉴명} (IA-P100)
│   ├── 📄 2depth: {서브메뉴} (IA-P101)
│   │   ├── 📄 3depth: {상세} (IA-P110)
│   │   └── 📄 3depth: {상세} (IA-P111)
│   └── 📄 2depth: {서브메뉴} (IA-P102)
├── 📂 1depth: {메뉴명} (IA-P200)
│   └── ...
└── 📂 공통/유틸리티
    ├── 📄 로그인 / 회원가입 / 마이페이지
    ├── 📄 통합검색
    └── 📄 에러 페이지 (404, 500)
```

### 2.3 페이지 인벤토리 테이블

| 필드 | 필수 | 설명 |
|------|------|------|
| ID | 필수 | IA-P### 형식 |
| 페이지명 | 필수 | 한글 명칭 |
| Depth | 필수 | 1~4 |
| 상위메뉴 | 필수 | 부모 페이지명 |
| URL | 필수 | SEO 친화적 경로 |
| 템플릿 | 필수 | main/list/detail/form/search/mypage/error/landing |
| 상태 | 필수 | 신규/유지/수정/삭제/리다이렉트 |
| REQ ID | 연계 모드: 필수 / 독립 모드: 생략 | FR-### 매핑 |
| FN ID | 연계 모드: 필수 / 독립 모드: 생략 | FN-### 매핑 |
| meta-title | 선택 | SEO용 (60자 이내) |
| 비고 | 선택 | 특이사항 |

### 2.4 URL 설계
- 영문 소문자, 하이픈(-) 구분
- 최대 3 세그먼트: `/category/sub/page`
- 동적 경로: `/{id}`, `/{slug}` 형식
- 예약 경로: `/login`, `/signup`, `/search`, `/mypage`, `/error`

→ 사용자 확인 후 § 3 진행

---

## § 3. 네비게이션 설계

네비게이션 패턴 상세: [depth-rules.md](depth-rules.md) 참조

### 3.1 GNB (Global Navigation Bar)
- 1depth 메뉴 기반 (최대 7개)
- 메뉴 유형: 기본 수평 / 메가메뉴 / 드롭다운
- 반응형 동작:
  - 모바일 (≤768px): 햄버거 메뉴, 터치 영역 44px 이상
  - 태블릿 (769~1024px): 축약 메뉴 또는 아이콘+텍스트
  - 데스크톱 (≥1025px): 전체 노출, 호버 인터랙션
- ID: IA-N001 ~ IA-N099

| ID | 메뉴명 | 링크 | Depth | 하위메뉴 수 | 비고 |
|----|--------|------|-------|-------------|------|

### 3.2 유틸리티 네비게이션
GNB 우측/상단 보조 메뉴:
- 로그인/로그아웃 (상태별 변경)
- 회원가입, 검색, 언어 선택 (다국어 시)
- 장바구니 (커머스 시), 마이페이지
- ID: IA-N300 ~ IA-N399

### 3.3 LNB (Local Navigation Bar)
- 1depth별 2depth 서브메뉴
- 위치: 좌측 사이드바 또는 상단 탭
- 현재 위치 표시 (active 상태)
- ID: IA-N100 ~ IA-N199

| ID | 메뉴명 | 링크 | 활성조건 | 비고 |
|----|--------|------|----------|------|

### 3.4 Footer Navigation
- 주요 링크 그룹핑
- 법적 고지 (필수: 개인정보처리방침, 이용약관)
- SNS 링크, 패밀리사이트
- ID: IA-N200 ~ IA-N299

### 3.5 브레드크럼 (Breadcrumb)
- 3depth 이상 필수 적용
- 형식: 홈 > 1depth > 2depth > 현재 페이지
- 마지막 항목은 링크 없음
- 구조화 데이터 (JSON-LD) 권장

| 페이지 ID | 브레드크럼 경로 |
|-----------|----------------|

### 3.6 네비게이션 플로우
- CTA 기반 전환 흐름
- 이탈 방지 구조
- 크로스 네비게이션 (관련 콘텐츠 링크)

→ 사용자 확인 후 § 4 진행

---

## § 4. 콘텐츠 인벤토리

### 4.1 페이지별 콘텐츠 블록 정의
페이지 인벤토리의 각 페이지에 대해:
- 콘텐츠 블록 식별 (IA-C### ID)
- 배치 순서 (상단 → 하단)
- 필수/선택 구분

| ID | 콘텐츠명 | 유형 | 필수여부 | 데이터소스 | 비고 |
|----|----------|------|----------|-----------|------|

### 4.2 콘텐츠 유형 분류

#### 정적 콘텐츠
- 텍스트: 제목(h1~h4), 본문(p), 캡션, 라벨
- 이미지: 배너(1920x600), 카드(400x300), 아이콘(24~48px), OG(1200x630)
- 미디어: 영상, 오디오, 3D

#### 동적 콘텐츠
- DB 조회: 게시판, 상품목록, 회원정보
- API 연동: 외부 데이터, 실시간 정보
- 사용자 생성(UGC): 댓글, 리뷰, 첨부파일

#### 인터랙티브 콘텐츠
- 폼: 입력, 선택, 파일 업로드
- 검색: 통합검색, 필터, 자동완성
- 기능: 장바구니, 좋아요, 공유, 탭, 아코디언, 모달

### 4.3 데이터 소스 매핑
| 소스 유형 | 설명 | 예시 |
|-----------|------|------|
| 정적 | 코드에 직접 포함 | 타이틀, 고정 안내문 |
| CMS | 콘텐츠 관리 시스템 | 배너, 공지, FAQ |
| DB | 데이터베이스 조회 | 상품, 회원정보 |
| API | 외부 API 연동 | 날씨, 환율, 소셜 피드 |
| UGC | 사용자 생성 | 리뷰, 댓글, Q&A |

### 4.4 템플릿별 표준 콘텐츠

| 템플릿 | 필수 블록 | 선택 블록 |
|--------|----------|----------|
| main | 비주얼/배너, 바로가기 | 공지, 프로모션 |
| list | 제목, 목록, 페이지네이션 | 필터/정렬 |
| detail | 제목, 본문 | 첨부, 이전/다음, 관련 콘텐츠 |
| form | 제목, 입력 필드, 제출 버튼, 완료 메시지 | 약관 동의 |
| search | 검색 입력, 결과 목록 | 자동완성, 추천 키워드 |

→ 사용자 확인 후 § 5 진행

---

## § 5. 산출물 생성

### 5.1 MD 문서 생성

**파일명**: `IA-{프로젝트명}-{버전}.md`
**출력 경로**: `output/planning/`

필수 섹션:
```markdown
# IA 정보구조설계 — {프로젝트명}
> 작성일: {날짜} | 버전: {버전} | 작성자: {작성자}

## 1. 문서 개요
## 2. 사이트맵
## 3. 페이지 인벤토리
## 4. 네비게이션 구조
  ### 4.1. GNB
  ### 4.2. LNB
  ### 4.3. Footer
  ### 4.4. 브레드크럼
## 5. 콘텐츠 인벤토리
## 6. URL 설계
## 7. 변경 이력
```

### 5.2 HTML 시각화 생성

**파일명**: `IA-{프로젝트명}-{버전}.html`
**출력 경로**: `output/planning/`

탭 구성:
- Tab 1: 사이트맵 — 인터랙티브 트리 (펼침/접힘)
- Tab 2: 페이지 인벤토리 — 필터/정렬 테이블
- Tab 3: 네비게이션 — GNB/LNB/Footer/Breadcrumb 시각화
- Tab 4: 콘텐츠 매핑 — 페이지별 블록 상세
- Tab 5: URL 설계 — 전체 URL 목록
- Tab 6: 대시보드 — 통계 요약

HTML 요구사항:
- self-contained (외부 의존성 없음)
- 다크 테마, 시스템 폰트
- 인쇄 모드 (@media print)
- 반응형 (모바일 대응)

업종별 컬러 힌트:
| 업종 | 색상 계열 | 톤 |
|------|----------|-----|
| 기업/공공 | 블루 (#1a73e8) | 신뢰 |
| 커머스 | 레드/오렌지 (#ff5722) | 활력 |
| 뷰티/라이프 | 핑크/코랄 (#e91e63) | 감성 |
| 헬스케어/교육 | 그린/틸 (#00897b) | 성장 |
| 테크/SaaS | 퍼플/인디고 (#5c6bc0) | 혁신 |

### 5.3 완료 리포트

```
═══════════════════════════════════
[IA 산출물 생성 완료]
═══════════════════════════════════
프로젝트: {프로젝트명}
버전: {버전}
───────────────────────────────────
[생성된 파일]
📄 MD: output/planning/IA-{프로젝트명}-{버전}.md
📄 HTML: output/planning/IA-{프로젝트명}-{버전}.html
───────────────────────────────────
[통계]
총 페이지: {수}개
Depth 분포: 1d={수} | 2d={수} | 3d={수}
GNB 항목: {수}개
네비게이션 항목: {수}개
콘텐츠 블록: {수}개
───────────────────────────────────
[다음 단계]
→ planning-reviewer 에이전트로 검수
→ 또는 /design (디자인 시안) 진행
═══════════════════════════════════
```

---

## AX (AI Enhancement) 고려사항

프로젝트에 AI 기능이 포함된 경우:
- **개인화 메뉴**: 사용 빈도 기반 메뉴 순서 조정
- **AI 추천**: 추천 콘텐츠 영역 구조 반영
- **스마트 검색**: 의도 분석·자동완성 구조 반영
- **적응형 UI**: 사용자별 네비게이션 분기

→ 해당 없으면 무시. AI 기능이 있을 때만 구조에 반영.

## 품질 체크
작성 완료 시 체크리스트: [checklist.md](checklist.md) 참조

$ARGUMENTS
