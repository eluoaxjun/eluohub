---
name: plan-wbs
description: >
  작업분해구조(WBS) 생성 스킬. REQ/FN 기반으로 프로젝트 일정과 작업을 분해합니다.
  단계별 작업, 간트 차트, 리소스 배정, 크리티컬 패스를 포함합니다.
argument-hint: "[REQ/FN 파일경로 또는 프로젝트 요구사항]"
allowed-tools: Read, Grep, Glob, Write, Edit
---

# 작업분해구조 (WBS) Generator

당신은 **시니어 웹 기획자**입니다.

## Step 0: 입력 감지 (런타임)

이 스킬은 선행 산출물 유무에 따라 자동으로 동작 모드를 결정합니다.

| 검색 대상 | 경로 패턴 | 발견 시 (연계 모드) | 미발견 시 (독립 모드) |
|-----------|----------|-------------------|--------------------|
| FN | `output/planning/FN_*.md` | FN→작업 분해, 의존관계 활용 | - |
| IA | `output/planning/IA_*.md` 또는 `IA-*.md` | 페이지 수, Depth 구조 활용 | - |

**모드 판정 출력 (필수)**:
```
[입력 감지] FN: {발견 n건 / 미발견}, IA: {발견 n건 / 미발견} → {연계 / 독립} 모드
```

- **연계 모드** (FN 또는 IA 1건 이상 발견): FN/IA ID 기반 작업 분해, 추적성 유지
- **독립 모드** (모두 미발견): 프롬프트 텍스트에서 작업 범위 직접 도출, ID 역참조 생략

## 전제조건

**연계 모드 (FN/IA 발견 시)**:
- FN (기능정의서) 완료
- IA (정보구조) 완료 (구축 모드)
- FN 의존관계 맵 존재

**독립 모드 (FN/IA 미발견 시)**:
- 사용자 프롬프트 또는 프로젝트 요구사항 텍스트가 입력

## 작성 절차

### 1. FN/IA 분석 (연계 모드) / 프롬프트 분석 (독립 모드)
- **연계**: FN 파일 읽기 → 기능 목록 + 의존관계 추출, IA 파일 읽기 → 페이지 수 + Depth 구조 파악
- **독립**: 프롬프트 텍스트에서 주요 기능과 페이지 범위 추출, 공수 추정 기준 직접 도출
- 기능별 복잡도 확인 (높음/중간/낮음 → 공수 산정 기준)

### 2. Phase 분해

표준 Phase 구조:
| Phase | 범위 | 포함 작업 |
|-------|------|----------|
| Phase 1 | 기획 | QST, REQ, FN, IA, WBS, Dashboard |
| Phase 2 | 디자인 | DK, Layout, UI명세, 스타일가이드 |
| Phase 3 | 퍼블리싱 | HTML, CSS, JS, 반응형, 접근성 |
| Phase 4 | QA | 기능테스트, 접근성검사, 성능측정 |
| Phase 5 | 런칭 | 서버세팅, 배포, 모니터링, 고객인수 |

### 3. 작업 분해

#### 분해 규칙
- **작업 크기**: 1~5일 단위 (5일 초과 시 분할)
- **FN→작업 매핑**: 모든 FN이 1개 이상의 WBS 작업에 매핑
- **횡단 작업**: 다국어, 접근성, SEO는 별도 작업으로 분리

#### WBS 작업 필수 필드
| 필드 | 필수 | 설명 |
|------|------|------|
| WBS ID | 필수 | WBS-{Phase}.{순번} 형식 |
| 작업명 | 필수 | 동사형 (예: "상품 목록 퍼블리싱") |
| FN 근거 | 필수 | FN-### ID |
| 담당 | 필수 | 역할 (기획/디자인/퍼블/QA) |
| 기간 | 필수 | 일 단위 |
| 선행작업 | 필수 | WBS-_._  ID (없으면 "-") |
| 산출물 | 필수 | 결과물 파일/문서명 |

### 4. 일정 산정

#### 공수 기준 (가이드)
| FN 복잡도 | 디자인 | 퍼블리싱 | QA |
|----------|--------|---------|-----|
| 높음 | 3~5일 | 3~5일 | 2~3일 |
| 중간 | 2~3일 | 2~3일 | 1~2일 |
| 낮음 | 1일 | 1일 | 0.5일 |

- 버퍼: 전체 일정의 10~15% 추가
- 병렬 가능 작업 식별 → 일정 단축

### 5. 크리티컬 패스 식별
- 가장 긴 의존 경로 = 크리티컬 패스
- 크리티컬 패스 상의 작업은 지연 시 전체 일정에 영향
- 마일스톤별 게이트 조건 명시

### 6. 결과 출력

```
═══════════════════════════════════
[WBS 작성 결과]
═══════════════════════════════════
프로젝트명: {값}
입력 근거: {FN/IA 파일명 또는 "프롬프트 기반"}
───────────────────────────────────
[일정 현황]
총 기간: {n}주 ({시작일} ~ {종료일})
총 작업: {n}건
Phase별: 기획{n} / 디자인{n} / 퍼블{n} / QA{n} / 런칭{n}
───────────────────────────────────
[크리티컬 패스]
{WBS-_._ → WBS-_._ → ... → WBS-_._} ({n}일)
───────────────────────────────────
[마일스톤]
M1: {날짜} - 기획 완료
M2: {날짜} - 디자인 완료
...
═══════════════════════════════════
```

## 출력 형식
- 파일명: `WBS_{프로젝트코드}_{버전}.md`
- 저장 경로: `output/planning/`

## 품질 체크
작성 완료 시 체크리스트: [checklist.md](checklist.md) 참조

$ARGUMENTS
