# 엘루오 허브 — 전 도메인 표준

> v1.0 | 2026-02-18

모든 패키지가 공유하는 ID 체계, 추적성 규칙, 파일 규격을 정의합니다.

---

## 1. ID 체계

### Planning

| 접두사 | 범위 | 용도 |
|--------|------|------|
| Q-### | Q-001 ~ Q-050 | 고객질의서 (QST) |
| FR-### | FR-001 ~ FR-099 | 기능 요구사항 (REQ) |
| NFR-### | NFR-001 ~ NFR-080 | 비기능 요구사항 (REQ) |
| FN-### | FN-001 ~ FN-299 | 기능정의서 |

### IA

| 접두사 | 용도 |
|--------|------|
| IA-P### | 페이지 (사이트맵 노드) |
| IA-N### | 네비게이션 항목 |
| IA-C### | 콘텐츠 인벤토리 항목 |

### Design

| 접두사 | 용도 |
|--------|------|
| BM-### | 벤치마킹 분석 대상 |
| UI-### | UI 화면/섹션 식별 |

### Publish

| 접두사 | 용도 |
|--------|------|
| (없음) | UI-### 기반 구현. 별도 ID 없음 |

### QA

| 접두사 | 용도 |
|--------|------|
| TC-### | 테스트 케이스 |

---

## 2. 추적성 매트릭스 (Traceability Matrix)

```
[Planning]              [IA]         [Design]        [Publish]  [QA]
Q-### → FR-### → FN-### → IA-P### → UI-### → HTML/CSS → TC-###
         NFR-###
```

### 매핑 규칙

| 소스 | 대상 | 관계 | 검증 주체 |
|------|------|------|-----------|
| Q-### → FR-### | 1:N | 질의 1개 → 요구사항 N개 | planning-reviewer |
| FR-### → FN-### | 1:N | 요구사항 1개 → 기능 N개 | planning-reviewer |
| FN-### → IA-P### | N:M | 기능 → 페이지 (다대다) | ia-reviewer |
| FN-### → UI-### | 1:N | 기능 → UI 화면/섹션 | design-reviewer |
| UI-### → TC-### | 1:N | UI 화면 → 테스트 케이스 | qa-reviewer |

### 추적성 테이블 (산출물 완성 시 필수)

```markdown
| QST | REQ | FN | IA | UI | TC | 상태 |
|-----|-----|-----|-----|-----|-----|------|
| Q-001 | FR-001 | FN-001 | IA-P001 | UI-001 | TC-001 | 완료 |
```

> 매핑되지 않는 ID가 있으면 **누락(고아)** 또는 **불필요(유령)** 항목이므로 확인 필요

---

## 3. 3단계 ID 방어 메커니즘

| 단계 | 역할 | 적용 시점 | 작동 방식 |
|------|------|-----------|-----------|
| **1. 스킬 내부 스캔** | 예방 | 스킬 실행 시 | `output/` 폴더 스캔 → 기존 ID 읽고 이어서 채번 |
| **2. orchestrator 전달** | 전달+검증 | 단계 간 전환 시 | 앞 단계 ID 목록 추출 → 다음 스킬에 명시적 전달 |
| **3. reviewer 검증** | 사후 검증 | 검수 시 | 상위 ID 미참조 = **Critical Error** (PASS 불가) |

- **개별 스킬 직접 호출**: 1단계 + 3단계 작동
- **orchestrator 파이프라인**: 1·2·3단계 모두 작동

---

## 4. 핸드오프 체인

```
Planning ──→ Design ──→ Publish ──→ QA
  _handoff.md  _handoff.md  _handoff.md
```

### 핸드오프 파일 규격

| 항목 | 규칙 |
|------|------|
| 경로 | `output/{패키지}/_handoff.md` |
| 생성 주체 | 발신측 orchestrator (완료 시 자동 생성) |
| 수신 처리 | 수신측 orchestrator Step 0 (0-A 파싱 + 0-B 전제조건 확인) |
| 없을 때 | fallback: `output/{패키지}/` 디렉토리 스캔으로 산출물 자동 수집 |

### 핸드오프 필수 필드

```markdown
# {발신} → {수신} Handoff

## 메타정보
- 프로젝트: {프로젝트명}
- 프로젝트 코드: {코드}
- 완료일: {YYYY-MM-DD}
- 검수 판정: {PASS / CONDITIONAL / BLOCK}

## 산출물 목록
| 파일명 | 유형 | 버전 |

## 수량 요약
- {도메인별 ID 수량}

## [미확인] 잔여
- 잔여 건수: {n}건

## 알려진 이슈
- {이슈 목록}
```

---

## 5. 파일명 규격

### 산출물 파일

```
{산출물}-{프로젝트명}-{버전}.md
```

| 항목 | 규칙 | 예시 |
|------|------|------|
| 산출물 | 대문자 시작 | QST, REQ, FN, IA, Benchmark, UI, STYLE |
| 프로젝트명 | 한글/영문, 공백 없음 | 비짓강남, Samsung-Mall |
| 버전 | v + 숫자 | v1.0, v1.1, v2.0 |
| 확장자 | .md (기본) 또는 .html (시각화) | |

**예시**: `REQ-비짓강남-v1.0.md`, `UI-비짓강남-v1.0.md`, `Benchmark-비짓강남-v1.0.md`

### 검수 리포트

```
review-{프로젝트명}-{버전}-{날짜}.md
```

**예시**: `review-비짓강남-v1.0-20260218.md`

---

## 6. 산출물 경로

```
{프로젝트}/output/
├── planning/          ← QST, REQ, FN, WBS, Dashboard, _handoff.md
├── ia/                ← IA (사이트맵, 네비, 콘텐츠 인벤토리)
├── design/            ← Benchmark, HTML 시안 (A/B/C), Style Guide
│   ├── ref/           ← 벤치마크 스크린샷, 참조 이미지
│   │   └── screenshots/
│   └── review-logs/   ← 디자인 검수 리포트
├── publish/           ← HTML, CSS, JS
│   ├── css/
│   ├── js/
│   └── images/
└── qa/                ← QA 리포트 (기능, 접근성, 성능)
```

---

## 7. [미확인] 태그 체계

| 태그 | 의미 | 사용 시점 |
|------|------|-----------|
| `[미확인]` | 클라이언트만 알 수 있는 정보 | 정보 부족 시 |
| `[미확인: {설명}]` | 미확인 + 구체적 질문 | 확인 사항이 명확할 때 |
| `[참고: {값}]` | 벤치마크/업종 평균 참고값 | 근거가 있는 추정 시 |
| `[추정: {값} / 근거: {사유}]` | 추정값 + 근거 | 합리적 추론이 가능할 때 |

> **원칙**: 모르는 것을 추측하지 않는다. `[미확인]` 0건이 되어야 다음 단계 진행 가능.

---

## 8. 품질 판정 공통 기준

### 이슈 심각도

| 심각도 | 의미 | 패키지 공통 |
|--------|------|------------|
| **Critical** | 수정 필수 | ID 매핑 단절, 필수 산출물 누락, [미확인] 추측 |
| **Major** | 수정 권장 | 상태별 화면 누락, 산출물 연계 미흡 |
| **Minor** | 선택 수정 | 형식 불일치, 용어 불통일 |

### 판정 규칙 (전 패키지 동일)

| 판정 | 조건 | 다음 단계 |
|------|------|----------|
| **PASS** | 80점 이상 + Critical 0건 + Major ≤3건 | 즉시 진행 |
| **CONDITIONAL** | 60~79점 또는 Critical 0건 + Major 4건+ | 수정 후 진행 |
| **BLOCK** | 59점 이하 또는 Critical 1건+ | 해소 후 재검수 |

### 이터레이션 루프 (전 패키지 동일)

```
BLOCK 또는 80점 미만 → 해당 항목만 수정 → 재채점
→ 최대 3회 반복
→ 3회 후 미해결 시 사용자 에스컬레이션
```

---

## 변경 이력

| 버전 | 일자 | 변경내용 |
|------|------|----------|
| v1.0 | 2026-02-18 | 초안 작성 — 6개 패키지 공통 표준 정의 |
