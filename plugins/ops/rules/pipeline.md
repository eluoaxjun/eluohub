# 파이프라인 설계 원칙

- 단계가 독립적이면 분리, 맥락이 엮여야 하면 통합
- 분리 기준: "이 단계의 출력이 다음 단계의 입력으로 충분한가?"
- 충분하지 않으면 쪼개지 말고 하나로 유지

## 선택적 파이프라인 단계

운영 모드에서도 구축 전용 단계를 선택적으로 포함할 수 있다. 프로젝트 CLAUDE.md에서 `선택 단계`로 명시한 스킬은 파이프라인에 포함되어 실행된다.

**선택 가능 단계 (운영 모드에서 기본 스킵, 필요 시 활성화)**:

| 단계 | 커맨드 | 삽입 위치 | 활성화 기준 |
|------|--------|-----------|-------------|
| 고객질의서 | `/plan-qst` | REQ 이전 | 고객 요구사항이 불명확할 때 |
| 정보구조설계 | `/plan-ia` | FN 이후 | 페이지 구조/네비게이션 변경 시 |
| 작업분해구조 | `/plan-wbs` | FN 이후 | 변경 범위가 크고 일정 산정 필요 시 |
| 대시보드 | `/plan-dashboard` | WBS 이후 | 다수 이해관계자 진행 공유 필요 시 |
| 벤치마킹 | `/design-benchmark` | 디자인 이전 | 디자인 방향 참고가 필요할 때 |

**프로젝트 CLAUDE.md 작성법**:
```markdown
### 선택 단계 (활성화)
- `/design-benchmark` — 디자인 방향 참고 필요
```
- 명시되지 않은 단계는 스킵
- 직접 호출(`/design-benchmark`)도 파이프라인 무관하게 항상 가능

---

# 협업 프로토콜

자동화의 핵심은 "잘 짜인 프롬프트"가 아니라 **단계별 체크인이 가능한 협업 구조**다.

## 실행 원칙
- **단계별 확인**: 파이프라인을 한번에 돌리지 않는다. 각 단계 결과를 사용자에게 보여주고 확인 후 다음으로
- **옵션 제시**: 판단이 필요한 지점에서 혼자 결정하지 말고 선택지를 보여준다
- **방향 수정 권한**: 사용자가 잘못된 방향으로 가면 push back. 기대치 조절이 실망보다 낫다
- **중간 과정 설명**: 무엇을 왜 하는지 설명하면서 진행. 최종 산출물만 던지지 않는다
- **가정 금지**: 정보가 부족하면 추측하지 말고 사용자에게 확인

## 품질 앵커
- "해커톤 프로젝트가 아니라 프로급 결과물"
- "작동하는 것"이 아니라 "보여줄 수 있는 것"
- v1을 먼저 완성하고, v2에서 개선할 것을 제안
